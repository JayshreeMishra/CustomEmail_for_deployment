<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CustomEmail - A Personalized Email Sender</title>
    <link rel="icon" type="image/png" sizes="32x32" href="/static/logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <!-- Flash Messages -->
        <div class="flash-messages">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="flash {{ category }}">{{ message }}</div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
    <div class="container">
        <!-- Logo and Title Section -->
        <div class="header">
            <img src="{{ url_for('static', filename='logo.png') }}" alt="CustomEmail Logo" class="logo-img">
            <div class="title-container">
                <h1 class="main-title">CustomEmail</h1>
                <h3 class="subtitle">A Personalized Email Sender</h3>
            </div>
        </div>

        <!-- Email Form -->
        <form id="emailForm" method="POST" enctype="multipart/form-data" class="email-form">
            <!-- Sender Email -->
            <div class="form-group">
                <label for="sender_email">Sender Email:</label>
                <input type="email" id="sender_email" name="sender_email" required>
            </div>

            <!-- Sender App Password -->
            <div class="form-group">
                <label for="sender_app_password">
                    Sender App Password:
                    <span class="tooltip">
                        <img src="{{ url_for('static', filename='i_icon.png') }}" alt="Info" class="info-icon" >
                        <span class="tooltip-text">
                            Use an app password generated by your email provider instead of your main account password for better security. 
                            <a href="https://support.google.com/accounts/answer/185833" target="_blank">Learn more</a>.
                        </span>
                    </span>
                </label>
                <input type="password" id="sender_app_password" name="sender_app_password" required>
            </div>

            <!-- Recipients -->
            <div class="form-group">
                <label for="recipients">Recipients:</label>
                <textarea id="recipients" name="recipients" rows="4" placeholder="Enter up to 50 email addresses, one per line" required></textarea>
            </div>

            <!-- Recipient Names -->
            <div class="form-group">
                <label for="recipient_names">Recipient Names:</label>
                <textarea id="recipient_names" name="recipient_names" rows="4" placeholder="Enter up to 50 names, one per line" required></textarea>
            </div>

            <!-- Recipient Company Names -->
            <div class="form-group">
                <label for="recipient_companies">Recipient Company Names:</label>
                <textarea id="recipient_companies" name="recipient_companies" rows="4" placeholder="Enter up to 50 company names, one per line" required></textarea>
            </div>

            <!-- Subject -->
            <div class="form-group">
                <label for="subject">Subject:</label>
                <input type="text" id="subject" name="subject" required>
            </div>

            <!-- Message -->
            <div class="form-group">
                <label for="message">Message:</label>
                <div id="message" contenteditable="true" class="editable-message"></div>
                <!-- Hidden textarea to store message content -->
                <textarea id="message-content" name="message" style="display: none;"></textarea>
            </div>

            <!-- Additional Features -->
            <div class="additional-features">
                <button type="button" class="btn" data-tooltip="Insert Recipient's Name" onclick="insertPlaceholder('recipientname')">
                    Insert Recipient's Name
                </button>
                <button type="button" class="btn" data-tooltip="Insert Recipient's Company Name" onclick="insertPlaceholder('companyname')">
                    Insert Recipient's Company Name
                </button>
            </div>

            <!-- Action Buttons -->
            <button type="button" class="btn" data-tooltip="Automatically corrects spelling mistakes." onclick="spelling_corrector()">
                Spelling Corrector
            </button>

            <button type="button" class="btn" data-tooltip="Checks your message for potential spam." onclick="spam_detection()">
                Spam Detection
            </button>


            <!-- Results Display -->
            <div class="results-section">
                <p id="changed-words"></p>
                <p id="spam-result"></p>
            </div>

            <!-- Attach File -->
            <div class="form-group">
                <label for="file">Attach File:</label>
                <input type="file" id="file" name="file">
            </div>

           <!-- Submit -->
           <button class="btn no-tooltip">Send Email</button>

        <!-- Contact Links -->
        <div class="contact-links">
            <!-- GitHub Link -->
            <div class="icon-container">
                <a href="https://github.com/JayshreeMishra" target="_blank" title="Visit my GitHub">
                    <img src="/static/git_icon.png" alt="GitHub" class="icon">
                </a>
                <span class="icon-text">GitHub</span>
            </div>
            
            <!-- LinkedIn Link -->
            <div class="icon-container">
                <a href="https://www.linkedin.com/in/jayshree-mishra-/" target="_blank" title="Visit my LinkedIn">
                    <img src="/static/linkedin_icon.png" alt="LinkedIn" class="icon">
                </a>
                <span class="icon-text">LinkedIn</span>
            </div>
            
            <!-- Container for both links -->
            <div class="links-container">
                <!-- Email Link -->
                <div class="email-container">
                    <a href="mailto:jayshreemishra197@gmail.com" title="Contact Me At" class="link">jayshreemishra197@gmail.com</a>
                </div>

                <!-- About the Project Link -->
                <a href="https://github.com/JayshreeMishra/CustomEmail_A_Personalized_Email_Sender/tree/main" target="_blank" class="link about-link">
                    About the Project
                </a>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='placeholder.js') }}"></script>
</body>
</html>
